
================================================================================
File: src/components/CartSidebar.js
================================================================================

import React from 'react';

const CartSidebar = ({ items, onQuantityChange, onRemove, onClear, onPayment, isLoading }) => {
  const total = items.reduce((sum, item) => sum + item.ar * item.mennyiseg, 0);

  return (
    <div className="flex flex-col h-full">
      {/* Fejl√©c */}
      <div className="
        p-4
        border-b-2
        border-csarda-barna-vilagos
        bg-white
      ">
        <h2 className="
          text-2xl
          font-bree
          text-csarda-barna-sotet
          flex
          justify-between
          items-center
        ">
          Kos√°r
          <button
            onClick={onClear}
            disabled={items.length === 0}
            className="
              text-base
              px-4
              py-2
              rounded-lg
              bg-csarda-piros-mely
              text-white
              hover:bg-csarda-piros-vilagos
              disabled:opacity-50
              disabled:cursor-not-allowed
              transition-colors
              duration-200
            "
          >
            √úr√≠t√©s
          </button>
        </h2>
      </div>

      {/* T√©telek list√°ja */}
      <div className="
        flex-1
        overflow-y-auto
        px-4
      ">
        {items.length === 0 ? (
          <div className="
            flex
            flex-col
            items-center
            justify-center
            h-full
            text-csarda-barna-vilagos
            text-lg
            font-bree
          ">
            A kos√°r √ºres
          </div>
        ) : (
          <ul className="py-4 space-y-4">
            {items.map((item) => (
              <li
                key={item.id}
                className="
                  bg-white
                  rounded-xl
                  p-4
                  shadow-sm
                  border-2
                  border-csarda-barna-vilagos
                "
              >
                <div className="flex justify-between items-start mb-3">
                  <h3 className="
                    text-xl
                    font-bree
                    text-csarda-barna-sotet
                    flex-1
                  ">
                    {item.nev}
                  </h3>
                  <button
                    onClick={() => onRemove(item.id)}
                    className="
                      ml-2
                      text-2xl
                      text-csarda-piros-mely
                      hover:text-csarda-piros-vilagos
                      transition-colors
                      duration-200
                      p-2
                    "
                  >
                    √ó
                  </button>
                </div>

                <div className="
                  flex
                  justify-between
                  items-center
                ">
                  <div className="
                    flex
                    items-center
                    bg-csarda-feher-tort
                    rounded-lg
                    p-1
                  ">
                    <button
                      onClick={() => onQuantityChange(item.id, item.mennyiseg - 1)}
                      className="
                        text-2xl
                        w-12
                        h-12
                        flex
                        items-center
                        justify-center
                        text-csarda-barna-sotet
                        hover:bg-csarda-barna-vilagos
                        hover:bg-opacity-10
                        rounded-lg
                        transition-colors
                        duration-200
                      "
                    >
                      -
                    </button>
                    <span className="
                      text-xl
                      font-bree
                      w-12
                      text-center
                    ">
                      {item.mennyiseg}
                    </span>
                    <button
                      onClick={() => onQuantityChange(item.id, item.mennyiseg + 1)}
                      className="
                        text-2xl
                        w-12
                        h-12
                        flex
                        items-center
                        justify-center
                        text-csarda-barna-sotet
                        hover:bg-csarda-barna-vilagos
                        hover:bg-opacity-10
                        rounded-lg
                        transition-colors
                        duration-200
                      "
                    >
                      +
                    </button>
                  </div>
                  <p className="
                    text-xl
                    font-bold
                    text-csarda-piros-mely
                  ">
                    ¬£{(item.ar * item.mennyiseg).toFixed(2)}
                  </p>
                </div>
              </li>
            ))}
          </ul>
        )}
      </div>

      {/* √ñsszes√≠t≈ë √©s fizet≈ë gomb */}
      <div className="
        border-t-2
        border-csarda-barna-vilagos
        bg-white
        p-4
        space-y-4
      ">
        <div className="
          flex
          justify-between
          items-center
          text-2xl
          font-bree
          text-csarda-barna-sotet
        ">
          <span>√ñsszesen:</span>
          <span className="text-csarda-piros-mely font-bold">
            ¬£{total.toFixed(2)}
          </span>
        </div>
        <button
          onClick={onPayment}
          disabled={items.length === 0 || isLoading}
          className="
            w-full
            py-4
            text-xl
            font-bree
            rounded-xl
            bg-csarda-zold-palack
            text-white
            hover:bg-csarda-zold-kakukkfu
            disabled:opacity-50
            disabled:cursor-not-allowed
            transition-colors
            duration-200
            relative
          "
        >
          {isLoading ? (
            <span className="
              flex
              items-center
              justify-center
              gap-2
            ">
              <svg className="animate-spin h-5 w-5" viewBox="0 0 24 24">
                <circle
                  className="opacity-25"
                  cx="12"
                  cy="12"
                  r="10"
                  stroke="currentColor"
                  strokeWidth="4"
                  fill="none"
                />
                <path
                  className="opacity-75"
                  fill="currentColor"
                  d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                />
              </svg>
              Feldolgoz√°s...
            </span>
          ) : (
            'Fizet√©s'
          )}
        </button>
      </div>
    </div>
  );
};

export default CartSidebar; 


================================================================================
File: src/components/CategoryBar.js
================================================================================

import React from 'react';

const CategoryBar = ({ selectedCategory, onSelect }) => {
  const categories = [
    { id: 'langos', name: 'L√°ngos' },
    { id: 'szendvics', name: 'Szendvicsek' },
    { id: 'foetel', name: 'F≈ë√©telek' },
    { id: 'palacsinta', name: 'Palacsinta' },
    { id: 'jegkrem', name: 'J√©gkr√©mek' },
    { id: 'ital', name: 'Italok' }
  ];

  return (
    <div className="
      h-full
      flex
      items-center
      px-4
      space-x-4
      overflow-x-auto
      scrollbar-thin
      scrollbar-thumb-csarda-barna-vilagos
      scrollbar-track-transparent
    ">
      {categories.map(category => (
        <button
          key={category.id}
          onClick={() => onSelect(category.id)}
          className={`
            px-6
            py-2
            rounded-lg
            font-bree
            text-lg
            transition-colors
            duration-200
            border-2
            whitespace-nowrap
            ${
              selectedCategory === category.id
              ? 'bg-csarda-barna-sotet text-csarda-feher-alap border-csarda-piros-mely'
              : 'bg-transparent text-csarda-barna-sotet border-csarda-barna-vilagos hover:bg-csarda-barna-vilagos/10'
            }
          `}
        >
          {category.name}
        </button>
      ))}
    </div>
  );
};

export default CategoryBar; 


================================================================================
File: src/components/FullscreenExitButton.js
================================================================================

import React, { useEffect, useState } from 'react';
import { FaCompress } from 'react-icons/fa';
import screenfull from 'screenfull';

const FullscreenExitButton = ({ onExit }) => {
  const [isFullscreen, setIsFullscreen] = useState(false);

  // Figyelj√ºk a teljes k√©perny≈ës √°llapotot
  useEffect(() => {
    const handleFullscreenChange = () => {
      setIsFullscreen(screenfull.isFullscreen);
    };

    if (screenfull.isEnabled) {
      screenfull.on('change', handleFullscreenChange);
      return () => {
        if (screenfull.isEnabled) {
          screenfull.off('change', handleFullscreenChange);
        }
      };
    }
  }, []);

  // Kil√©p√©s a teljes k√©perny≈ëb≈ël
  const handleExitFullscreen = async () => {
    try {
      if (screenfull.isEnabled && screenfull.isFullscreen) {
        await screenfull.exit();
        if (onExit) onExit();
      }
    } catch (error) {
      console.error('Hiba a teljes k√©perny≈ëb≈ël val√≥ kil√©p√©skor:', error);
    }
  };

  // Ha nincs teljes k√©perny≈ë vagy nem t√°mogatott, ne jelenjen meg a gomb
  if (!isFullscreen || !screenfull.isEnabled) return null;

  return (
    <button
      onClick={handleExitFullscreen}
      className="fixed bottom-2 left-2 w-8 h-8 bg-transparent hover:bg-gray-800/20 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-all duration-200 z-50"
      title="Kil√©p√©s a teljes k√©perny≈ëb≈ël"
    >
      <FaCompress className="w-4 h-4" />
    </button>
  );
};

export default FullscreenExitButton; 


================================================================================
File: src/components/OrderHistory.js
================================================================================

import React, { useEffect } from 'react';
import { useFirebase } from '../hooks/useFirebase';

const OrderHistory = () => {
  const { todayOrders, loadTodayOrders, loading, error } = useFirebase();

  useEffect(() => {
    loadTodayOrders();
  }, []);

  if (loading) {
    return (
      <div className="p-4">
        <div className="animate-pulse space-y-4">
          {[1, 2, 3].map((i) => (
            <div key={i} className="h-24 bg-magyar-barna/10 rounded-magyar"></div>
          ))}
        </div>
      </div>
    );
  }

  if (error) {
    return (
      <div className="p-4 bg-red-100 text-red-700 rounded-magyar">
        Hiba t√∂rt√©nt a rendel√©sek bet√∂lt√©se sor√°n
      </div>
    );
  }

  return (
    <div className="p-4 space-y-4">
      <h2 className="text-magyar-xl font-bold text-magyar-barna mb-6">
        Mai rendel√©sek ({todayOrders.length})
      </h2>

      <div className="bg-csarda-feher-alap rounded-xl shadow-lg p-6">
        <h2 className="font-bree text-2xl text-csarda-barna-sotet mb-6">Rendel√©si el≈ëzm√©nyek</h2>
        
        <div className="space-y-6">
          {todayOrders.map((order) => (
            <div key={order.id} className="border-2 border-csarda-barna-vilagos rounded-lg p-4">
              <div className="flex justify-between items-center mb-4">
                <span className="font-lora text-csarda-barna-kozep">
                  {new Date(order.createdAt.seconds * 1000).toLocaleDateString('hu-HU')}
                </span>
                <span className="font-bree text-lg text-csarda-piros-mely">
                  ¬£{order.total.toFixed(2)}
                </span>
              </div>
              
              <div className="space-y-2">
                {order.items.map((item) => (
                  <div key={item.id} className="flex justify-between items-center">
                    <div className="font-lora text-csarda-barna-sotet">
                      {item.quantity}x {item.name}
                    </div>
                    <div className="font-bree text-csarda-barna-kozep">
                      ¬£{(item.price * item.quantity).toFixed(2)}
                    </div>
                  </div>
                ))}
              </div>
            </div>
          ))}
        </div>
      </div>

      {todayOrders.length === 0 && (
        <div className="text-center text-gray-500 py-8">
          M√©g nincsenek mai rendel√©sek
        </div>
      )}
    </div>
  );
};

export default OrderHistory; 


================================================================================
File: src/components/PinScreen.js
================================================================================

import React, { useState } from 'react';
import { toast } from 'react-hot-toast';

const PinScreen = ({ onSubmit }) => {
  const [pin, setPin] = useState('');
  const [error, setError] = useState('');

  const handleNumberClick = (number) => {
    if (pin.length < 6) {
      setPin(prev => prev + number);
      setError('');
    }
  };

  const handleDelete = () => {
    setPin(prev => prev.slice(0, -1));
    setError('');
  };

  const handleSubmit = async () => {
    if (pin === '351351') {
      await onSubmit(pin);
      setPin('');
      setError('');
    } else {
      setError('Hib√°s PIN k√≥d!');
      toast.error('Hib√°s PIN k√≥d!');
      setPin('');
    }
  };

  return (
    <div className="fixed inset-0 bg-csarda-barna-sotet/90 flex items-center justify-center p-4">
      <div className="bg-csarda-feher-alap rounded-2xl p-6 w-full max-w-md shadow-xl border-4 border-csarda-barna-vilagos">
        <h2 className="text-2xl font-bree text-center text-csarda-barna-sotet mb-8">
          Adja meg a PIN k√≥dot
        </h2>

        {error && (
          <div className="mb-6 text-center text-csarda-piros-mely font-bree">
            {error}
          </div>
        )}

        <div className="flex justify-center mb-8">
          {[1,2,3,4,5,6].map((_, i) => (
            <div
              key={i}
              className={`w-4 h-4 mx-2 rounded-full border-2 border-csarda-barna-kozep ${
                i < pin.length ? 'bg-csarda-barna-sotet' : 'bg-csarda-feher-tort'
              }`}
            />
          ))}
        </div>

        <div className="grid grid-cols-3 gap-4">
          {[1,2,3,4,5,6,7,8,9].map(number => (
            <button
              key={number}
              onClick={() => handleNumberClick(number)}
              className="aspect-square rounded-xl bg-csarda-feher-tort text-csarda-barna-sotet text-2xl font-bree border-2 border-csarda-barna-kozep hover:bg-csarda-barna-vilagos/20 transition-colors"
            >
              {number}
            </button>
          ))}
          <button
            onClick={handleDelete}
            className="aspect-square rounded-xl bg-csarda-piros-mely text-csarda-feher-alap text-xl font-bree border-2 border-csarda-piros-vilagos hover:bg-csarda-piros-vilagos transition-colors"
          >
            ‚Üê
          </button>
          <button
            onClick={() => handleNumberClick(0)}
            className="aspect-square rounded-xl bg-csarda-feher-tort text-csarda-barna-sotet text-2xl font-bree border-2 border-csarda-barna-kozep hover:bg-csarda-barna-vilagos/20 transition-colors"
          >
            0
          </button>
          <button
            onClick={handleSubmit}
            disabled={pin.length !== 6}
            className="aspect-square rounded-xl bg-csarda-zold-palack text-csarda-feher-alap text-xl font-bree border-2 border-csarda-zold-kakukkfu hover:bg-csarda-zold-kakukkfu disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
          >
            ‚úì
          </button>
        </div>
      </div>
    </div>
  );
};

export default PinScreen; 


================================================================================
File: src/components/ProductGrid.js
================================================================================

import React from 'react';

const ProductGrid = ({ products, onAddToCart }) => {
  // Csak az els≈ë 9 term√©ket jelen√≠tj√ºk meg
  const displayedProducts = products.slice(0, 9);

  if (!products || products.length === 0) {
    return (
      <div className="flex items-center justify-center h-full">
        <p className="text-csarda-barna-kozep text-xl font-lora">
          Nincsenek term√©kek ebben a kateg√≥ri√°ban
        </p>
      </div>
    );
  }

  return (
    <div className="
      grid
      grid-cols-3
      grid-rows-3
      gap-3
      p-3
      h-full
      auto-rows-fr
    ">
      {displayedProducts.map((product) => (
        <button
          key={product.id}
          className="
            bg-white
            rounded-xl
            shadow-sm
            hover:shadow-md
            transition-all
            duration-200
            border-2
            border-csarda-barna-vilagos
            hover:border-csarda-piros-mely
            flex
            flex-col
            overflow-hidden
            relative
            group
            p-3
            min-h-0
          "
          onClick={() => onAddToCart(product)}
        >
          <div className="
            flex-1
            flex
            flex-col
            justify-between
            w-full
            min-h-0
          ">
            <div>
              <h3 className="
                text-xl
                font-bree
                text-csarda-barna-sotet
                leading-tight
                mb-2
              ">
                {product.nev}
              </h3>
              {product.leiras && (
                <p className="
                  text-sm
                  text-csarda-barna-vilagos
                  line-clamp-2
                  group-hover:line-clamp-none
                  transition-all
                  duration-200
                ">
                  {product.leiras}
                </p>
              )}
            </div>
            
            <div className="
              flex
              justify-between
              items-center
              mt-2
            ">
              <p className="
                text-xl
                font-bold
                text-csarda-piros-mely
              ">
                ¬£{product.ar.toFixed(2)}
              </p>
              <span className="
                text-sm
                px-3
                py-1
                bg-csarda-barna-vilagos
                bg-opacity-10
                rounded-full
                text-csarda-barna-sotet
                font-medium
              ">
                {product.kategoria}
              </span>
            </div>
          </div>
        </button>
      ))}
    </div>
  );
};

export default ProductGrid; 


================================================================================
File: src/data/menu.js
================================================================================

import menuData from './menu.json';

// Export√°ljuk az eredeti magyar mez≈ënevekkel
export const menu = menuData.termekek.map(item => ({
  id: item.id,
  nev: item.nev,
  ar: item.ar,
  kategoria: item.kategoria,
  leiras: item.leiras
}));

export default menu;

export const menuItems = menu; 


================================================================================
File: src/data/menu.json
================================================================================

{
  "termekek": [
    {
      "id": "langos-sima",
      "nev": "Sima l√°ngos",
      "ar": 3.50,
      "kategoria": "langos",
      "leiras": "Frissen s√ºlt l√°ngos"
    },
    {
      "id": "langos-tejfolos",
      "nev": "Tejf√∂l√∂s l√°ngos",
      "ar": 4.00,
      "kategoria": "langos",
      "leiras": "L√°ngos tejf√∂llel"
    },
    {
      "id": "langos-sajtos",
      "nev": "Sajtos l√°ngos",
      "ar": 4.00,
      "kategoria": "langos",
      "leiras": "L√°ngos reszelt sajttal"
    },
    {
      "id": "langos-sajtos-tejfolos",
      "nev": "Sajtos-tejf√∂l√∂s l√°ngos",
      "ar": 4.50,
      "kategoria": "langos",
      "leiras": "L√°ngos sajttal √©s tejf√∂llel"
    },
    {
      "id": "langos-bolognai",
      "nev": "Bolognai l√°ngos",
      "ar": 6.50,
      "kategoria": "langos",
      "leiras": "L√°ngos bolognai raguval"
    },
    {
      "id": "palacsinta",
      "nev": "Palacsinta",
      "ar": 1.00,
      "kategoria": "palacsinta",
      "leiras": "Klasszikus palacsinta"
    },
    {
      "id": "hotdog-retro",
      "nev": "Retro hotdog",
      "ar": 2.50,
      "kategoria": "szendvics",
      "leiras": "Klasszikus retro hotdog"
    },
    {
      "id": "szendvics-meleg-husos",
      "nev": "H√∫sos meleg szendvics",
      "ar": 3.00,
      "kategoria": "szendvics",
      "leiras": "Meleg szendvics h√∫ssal"
    },
    {
      "id": "szendvics-panini",
      "nev": "Panini szendvics",
      "ar": 2.50,
      "kategoria": "szendvics",
      "leiras": "Olasz st√≠lus√∫ panini"
    },
    {
      "id": "szendvics-hideg-vega",
      "nev": "Vega hideg szendvics",
      "ar": 2.50,
      "kategoria": "szendvics",
      "leiras": "Veget√°ri√°nus hideg szendvics"
    },
    {
      "id": "szendvics-hideg-husos",
      "nev": "Hideg szendvics (sonk√°s / szal√°mis)",
      "ar": 2.50,
      "kategoria": "szendvics",
      "leiras": "V√°laszthat√≥ sonk√°s vagy szal√°mis hideg szendvics"
    },
    {
      "id": "szendvics-szarvasszalamis",
      "nev": "Szarvasszal√°mis szendvics",
      "ar": 3.00,
      "kategoria": "szendvics",
      "leiras": "Szendvics szarvasszal√°mival"
    },
    {
      "id": "zsomle-rantott-csirke",
      "nev": "R√°ntott csirkemelles zs√∂mle",
      "ar": 3.50,
      "kategoria": "szendvics",
      "leiras": "Zs√∂mle r√°ntott csirkemellel"
    },
    {
      "id": "rantotthus-krumplival",
      "nev": "R√°ntott h√∫s s√ºlt krumplival",
      "ar": 6.50,
      "kategoria": "foetel",
      "leiras": "R√°ntott h√∫s s√ºlt krumpli k√∂rettel"
    },
    {
      "id": "tepsis-sajtos-karaj",
      "nev": "Tepsis sajtos karaj vegyes k√∂rettel, palacsint√°val",
      "ar": 9.50,
      "kategoria": "foetel",
      "leiras": "Tepsis sajtos karaj vegyes k√∂rettel √©s desszert palacsint√°val"
    },
    {
      "id": "sajtos-karaj",
      "nev": "Sajtos karaj vegyes k√∂rettel",
      "ar": 9.00,
      "kategoria": "foetel",
      "leiras": "Sajtos karaj v√°laszthat√≥ k√∂rettel"
    },
    {
      "id": "gyerekmenu",
      "nev": "Gyerekmen√º (karaj, k√∂ret, palacsinta)",
      "ar": 6.50,
      "kategoria": "foetel",
      "leiras": "Gyerekmen√º karajjal, k√∂rettel √©s palacsint√°val"
    },
    {
      "id": "sultkrumpli",
      "nev": "S√ºlt krumpli",
      "ar": 2.00,
      "kategoria": "foetel",
      "leiras": "Frissen s√ºlt has√°bburgonya"
    },
    {
      "id": "sultkrumpli-sajtos",
      "nev": "S√ºlt krumpli + Sajt",
      "ar": 2.50,
      "kategoria": "foetel",
      "leiras": "S√ºlt krumpli reszelt sajttal"
    },
    {
      "id": "jegkrem-pohar-csoki",
      "nev": "Csokis kehely",
      "ar": 2.50,
      "kategoria": "jegkrem",
      "leiras": "Csokis fagylalt kehely, tejsz√≠nhabbal √©s √∂ntettel"
    },
    {
      "id": "jegkrem-pohar-vanilia",
      "nev": "Van√≠li√°s kehely",
      "ar": 2.50,
      "kategoria": "jegkrem",
      "leiras": "Van√≠li√°s fagylalt kehely, tejsz√≠nhabbal √©s √∂ntettel"
    },
    {
      "id": "jegkrem-pohar-epres",
      "nev": "Epres kehely",
      "ar": 2.50,
      "kategoria": "jegkrem",
      "leiras": "Epres fagylalt kehely, tejsz√≠nhabbal √©s √∂ntettel"
    },
    {
      "id": "jegkrem-gomboc",
      "nev": "Fagylaltgomb√≥c",
      "ar": 0.80,
      "kategoria": "jegkrem",
      "leiras": "V√°laszthat√≥ √≠z≈± fagylaltgomb√≥c (van√≠lia, csoki, eper, puncs)"
    },
    {
      "id": "jegkrem-nyari",
      "nev": "Ny√°ri fagyi",
      "ar": 2.00,
      "kategoria": "jegkrem",
      "leiras": "H√°rom gomb√≥c fagyi, v√°laszthat√≥ √≠zekben"
    },
    {
      "id": "jegkrem-mega",
      "nev": "Mega kehely",
      "ar": 3.50,
      "kategoria": "jegkrem",
      "leiras": "√ñt gomb√≥c fagyi, tejsz√≠nhab, √∂ntet, d√≠sz√≠t√©s"
    },
    {
      "id": "udito",
      "nev": "√úd√≠t≈ë (Si√≥, Cola, Rango, Fanta)",
      "ar": 1.00,
      "kategoria": "ital",
      "leiras": "V√°laszthat√≥ √ºd√≠t≈ëitalok"
    },
    {
      "id": "kave-tea",
      "nev": "K√°v√© / tea",
      "ar": 1.00,
      "kategoria": "ital",
      "leiras": "V√°laszthat√≥ k√°v√© vagy tea"
    },
    {
      "id": "ice-tea",
      "nev": "Ice tea",
      "ar": 1.20,
      "kategoria": "ital",
      "leiras": "Jeges tea"
    },
    {
      "id": "viz",
      "nev": "V√≠z (mentes / savas)",
      "ar": 1.00,
      "kategoria": "ital",
      "leiras": "V√°laszthat√≥ mentes vagy sz√©nsavas v√≠z"
    }
  ]
} 


================================================================================
File: src/hooks/useFullscreen.js
================================================================================

import { useState, useEffect, useCallback } from 'react';
import { toast } from 'react-hot-toast';
import screenfull from 'screenfull';

export const useFullscreen = () => {
  const [isFullscreen, setIsFullscreen] = useState(false);
  const [hasShownWarning, setHasShownWarning] = useState(false);

  // Teljes k√©perny≈ë √°llapot figyel√©se
  useEffect(() => {
    const handleFullscreenChange = () => {
      const fullscreenActive = screenfull.isFullscreen;
      setIsFullscreen(fullscreenActive);
      
      // Csak egyszer mutatjuk a figyelmeztet√©st munkamenetenk√©nt
      if (!fullscreenActive && !hasShownWarning) {
        toast('Az alkalmaz√°s teljes k√©perny≈ën is haszn√°lhat√≥.', {
          duration: 3000,
          position: 'bottom-center',
          icon: 'üí°',
        });
        setHasShownWarning(true);
      }
    };

    if (screenfull.isEnabled) {
      screenfull.on('change', handleFullscreenChange);
      return () => {
        if (screenfull.isEnabled) {
          screenfull.off('change', handleFullscreenChange);
        }
      };
    }
  }, [hasShownWarning]);

  // Bel√©p√©s teljes k√©perny≈ëbe
  const enterFullscreen = useCallback(async () => {
    try {
      if (screenfull.isEnabled && !screenfull.isFullscreen) {
        await screenfull.request();
      }
    } catch (error) {
      console.error('Hiba a teljes k√©perny≈ëbe l√©p√©skor:', error);
    }
  }, []);

  // Kil√©p√©s teljes k√©perny≈ëb≈ël
  const exitFullscreen = useCallback(async () => {
    try {
      if (screenfull.isEnabled && screenfull.isFullscreen) {
        await screenfull.exit();
      }
    } catch (error) {
      console.error('Hiba a teljes k√©perny≈ëb≈ël val√≥ kil√©p√©skor:', error);
    }
  }, []);

  // Automatikus √∫jrapr√≥b√°lkoz√°s teljes k√©perny≈ëvel - csak egyszer pr√≥b√°lkozunk
  const retryFullscreen = useCallback(async () => {
    if (screenfull.isEnabled && !screenfull.isFullscreen && !hasShownWarning) {
      await enterFullscreen();
    }
  }, [enterFullscreen, hasShownWarning]);

  // Ellen≈ërizz√ºk, hogy az eszk√∂z t√°mogatja-e a teljes k√©perny≈ët
  const isFullscreenSupported = screenfull.isEnabled;

  return {
    isFullscreen,
    enterFullscreen,
    exitFullscreen,
    retryFullscreen,
    isFullscreenSupported
  };
}; 


================================================================================
File: src/hooks/useFirebase.js
================================================================================

import { useState, useEffect } from 'react';
import { 
  saveOrder, 
  getTodayOrders, 
  syncProducts, 
  getCategories 
} from '../services/firebaseService';

export const useFirebase = () => {
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);
  const [todayOrders, setTodayOrders] = useState([]);
  const [categories, setCategories] = useState([]);

  // Rendel√©s ment√©se
  const handleSaveOrder = async (orderData) => {
    setLoading(true);
    setError(null);
    try {
      const result = await saveOrder(orderData);
      if (!result.success) {
        throw new Error(result.error);
      }
      return result.orderId;
    } catch (err) {
      setError(err.message);
      throw err;
    } finally {
      setLoading(false);
    }
  };

  // Mai rendel√©sek bet√∂lt√©se
  const loadTodayOrders = async () => {
    setLoading(true);
    setError(null);
    try {
      const orders = await getTodayOrders();
      setTodayOrders(orders);
    } catch (err) {
      setError(err.message);
    } finally {
      setLoading(false);
    }
  };

  // Term√©kek szinkroniz√°l√°sa
  const handleSyncProducts = async (products) => {
    setLoading(true);
    setError(null);
    try {
      const result = await syncProducts(products);
      if (!result.success) {
        throw new Error(result.error);
      }
    } catch (err) {
      setError(err.message);
      throw err;
    } finally {
      setLoading(false);
    }
  };

  // Kateg√≥ri√°k bet√∂lt√©se
  const loadCategories = async () => {
    setLoading(true);
    setError(null);
    try {
      const cats = await getCategories();
      setCategories(cats);
    } catch (err) {
      setError(err.message);
    } finally {
      setLoading(false);
    }
  };

  // Komponens bet√∂lt√©sekor kateg√≥ri√°k lek√©r√©se
  useEffect(() => {
    loadCategories();
  }, []);

  return {
    loading,
    error,
    todayOrders,
    categories,
    saveOrder: handleSaveOrder,
    syncProducts: handleSyncProducts,
    loadTodayOrders,
    loadCategories
  };
}; 


================================================================================
File: src/hooks/useAuth.js
================================================================================

import { useState, useEffect } from 'react';

export const useAuth = () => {
  const [isAuthenticated, setIsAuthenticated] = useState(false);

  // Itt lehet implement√°lni a t√©nyleges authentik√°ci√≥s logik√°t
  // P√©ld√°ul PIN k√≥d ellen≈ërz√©se, session kezel√©s, stb.
  
  // P√©lda: localStorage-b√≥l olvassuk ki a bejelentkez√©si √°llapotot
  useEffect(() => {
    const checkAuth = () => {
      const authStatus = localStorage.getItem('isAuthenticated') === 'true';
      setIsAuthenticated(authStatus);
    };

    // Kezdeti ellen≈ërz√©s
    checkAuth();

    // Figyelj√ºk a storage v√°ltoz√°sait
    window.addEventListener('storage', checkAuth);
    return () => window.removeEventListener('storage', checkAuth);
  }, []);

  const login = () => {
    localStorage.setItem('isAuthenticated', 'true');
    setIsAuthenticated(true);
  };

  const logout = () => {
    localStorage.setItem('isAuthenticated', 'false');
    setIsAuthenticated(false);
  };

  return {
    isAuthenticated,
    login,
    logout
  };
}; 


================================================================================
File: src/services/firebaseService.js
================================================================================

import { db } from '../firebase';
import { 
  collection, 
  addDoc, 
  serverTimestamp,
  query,
  where,
  getDocs,
  orderBy,
  doc,
  updateDoc,
  deleteDoc,
  writeBatch
} from 'firebase/firestore';
import {
  toFirebaseOrder,
  toUIOrder,
  toFirebaseItem,
  toUIItem
} from '../utils/dataConverters';

// Rendel√©s ment√©se
export const saveOrder = async (orderData) => {
  try {
    // Ellen≈ërizz√ºk, hogy van-e term√©k a kos√°rban
    if (!orderData.items || orderData.items.length === 0) {
      throw new Error('A kos√°r √ºres');
    }

    const ordersRef = collection(db, 'orders');
    const firebaseOrder = toFirebaseOrder({
      ...orderData,
      timestamp: serverTimestamp()
    });

    const docRef = await addDoc(ordersRef, firebaseOrder);
    return { 
      success: true, 
      orderId: docRef.id,
      message: 'Rendel√©s sikeresen mentve'
    };

  } catch (error) {
    console.error('Hiba a rendel√©s ment√©se sor√°n:', error);
    return { 
      success: false, 
      error: error.message || 'Ismeretlen hiba t√∂rt√©nt a rendel√©s ment√©se sor√°n',
      details: error
    };
  }
};

// Rendel√©sek lek√©r√©se
export const getOrders = async () => {
  try {
    const q = query(
      collection(db, 'orders'),
      orderBy('timestamp', 'desc')
    );
    const querySnapshot = await getDocs(q);
    return querySnapshot.docs.map(doc => toUIOrder({
      id: doc.id,
      ...doc.data()
    }));
  } catch (error) {
    console.error('Hiba a rendel√©sek lek√©r√©se sor√°n:', error);
    return [];
  }
};

// Rendel√©s st√°tusz√°nak friss√≠t√©se
export const updateOrderStatus = async (orderId, status) => {
  // Ellen≈ërizz√ºk, hogy √©rv√©nyes st√°tusz-e
  const validStatuses = ['new', 'processing', 'completed', 'cancelled'];
  if (!validStatuses.includes(status)) {
    return { 
      success: false, 
      error: '√ârv√©nytelen st√°tusz. Lehets√©ges √©rt√©kek: ' + validStatuses.join(', ')
    };
  }

  try {
    const orderRef = doc(db, 'orders', orderId);
    await updateDoc(orderRef, { status });
    return { success: true };
  } catch (error) {
    console.error('Hiba a rendel√©s st√°tusz√°nak friss√≠t√©se sor√°n:', error);
    return { success: false, error: error.message };
  }
};

// Rendel√©s t√∂rl√©se
export const deleteOrder = async (orderId) => {
  try {
    const orderRef = doc(db, 'orders', orderId);
    await deleteDoc(orderRef);
    return { success: true };
  } catch (error) {
    console.error('Hiba a rendel√©s t√∂rl√©se sor√°n:', error);
    return { success: false, error: error.message };
  }
};

// Mai rendel√©sek lek√©r√©se
export const getTodayOrders = async () => {
  try {
    const today = new Date();
    today.setHours(0, 0, 0, 0);
    
    const q = query(
      collection(db, 'orders'),
      where('timestamp', '>=', today),
      orderBy('timestamp', 'desc')
    );
    
    const querySnapshot = await getDocs(q);
    return querySnapshot.docs.map(doc => toUIOrder({
      id: doc.id,
      ...doc.data()
    }));
  } catch (error) {
    console.error('Hiba a mai rendel√©sek lek√©r√©se sor√°n:', error);
    return [];
  }
};

// Rendel√©s ellen≈ërz√©se duplik√°ci√≥ ellen
export const checkDuplicateOrder = async (orderData, timeWindow = 60000) => {
  try {
    const ordersRef = collection(db, 'orders');
    const timeThreshold = new Date(Date.now() - timeWindow); // 1 perces id≈ëablak

    const q = query(
      ordersRef,
      where('timestamp', '>=', timeThreshold),
      where('total', '==', orderData.total)
    );

    const querySnapshot = await getDocs(q);
    const possibleDuplicates = querySnapshot.docs.filter(doc => {
      const order = doc.data();
      // Ellen≈ërizz√ºk a t√©telek egyez√©s√©t
      return order.items.length === orderData.items.length &&
        order.items.every((item, index) => 
          item.id === orderData.items[index].id &&
          item.mennyiseg === orderData.items[index].mennyiseg
        );
    });

    return possibleDuplicates.length > 0;

  } catch (error) {
    console.error('Hiba a duplik√°ci√≥ ellen≈ërz√©se sor√°n:', error);
    return false; // Hiba eset√©n engedj√ºk a ment√©st
  }
};

// Men√º szinkroniz√°l√°sa
export const syncMenu = async (menuItems) => {
  try {
    const batch = writeBatch(db);
    const menuRef = collection(db, 'menu');

    // Konvert√°ljuk a t√©teleket Firebase form√°tumra
    const firebaseItems = menuItems.map(toFirebaseItem);

    // T√∂r√∂lj√ºk a r√©gi men√ºt
    const oldMenu = await getDocs(menuRef);
    oldMenu.forEach((doc) => {
      batch.delete(doc.ref);
    });

    // √öj men√º hozz√°ad√°sa
    firebaseItems.forEach((item) => {
      const docRef = doc(menuRef);
      batch.set(docRef, item);
    });

    await batch.commit();
    return { success: true };
  } catch (error) {
    console.error('Hiba a men√º szinkroniz√°l√°sa sor√°n:', error);
    return { success: false, error: error.message };
  }
};

// Kateg√≥ri√°k lek√©r√©se
export const getCategories = async () => {
  try {
    const menuRef = collection(db, 'menu');
    const querySnapshot = await getDocs(menuRef);
    const categories = new Set();

    querySnapshot.forEach((doc) => {
      const item = doc.data();
      if (item.category) {
        categories.add(item.category);
      }
    });

    return Array.from(categories);
  } catch (error) {
    console.error('Hiba a kateg√≥ri√°k lek√©r√©se sor√°n:', error);
    throw error;
  }
}; 


================================================================================
File: src/scripts/initFirebase.js
================================================================================

import { db } from '../firebase';
import { collection, addDoc, writeBatch, doc } from 'firebase/firestore';
import { menuItems } from '../data/menu';

const initializeFirebase = async () => {
  try {
    const batch = writeBatch(db);
    const productsRef = collection(db, 'products');

    // Term√©kek felt√∂lt√©se
    for (const item of menuItems) {
      const docRef = doc(productsRef);
      batch.set(docRef, {
        id: item.id,
        name: item.name,
        price: item.price,
        category: item.category,
        description: item.description
      });
    }

    // Minta rendel√©sek l√©trehoz√°sa
    const ordersRef = collection(db, 'orders');
    const sampleOrder = {
      items: [
        {
          id: 'langos-1',
          name: 'Sima l√°ngos',
          price: 800,
          quantity: 2
        },
        {
          id: 'szendvics-1',
          name: 'Sonk√°s szendvics',
          price: 1200,
          quantity: 1
        }
      ],
      total: 2800,
      status: 'new',
      createdAt: new Date(),
      paymentMethod: 'cash'
    };

    await addDoc(ordersRef, sampleOrder);
    await batch.commit();

    console.log('Firebase adatb√°zis sikeresen inicializ√°lva!');
  } catch (error) {
    console.error('Hiba az adatb√°zis inicializ√°l√°sa sor√°n:', error);
  }
};

// Script futtat√°sa
initializeFirebase(); 


================================================================================
File: src/utils/dataConverters.js
================================================================================

// Magyar-angol konverzi√≥ a Firebase-hez
export const toFirebaseItem = (magyarItem) => ({
  id: magyarItem.id,
  name: magyarItem.nev,
  price: magyarItem.ar,
  quantity: magyarItem.mennyiseg,
  category: magyarItem.kategoria,
  description: magyarItem.leiras
});

// Angol-magyar konverzi√≥ a felhaszn√°l√≥i fel√ºlethez
export const toUIItem = (firebaseItem) => ({
  id: firebaseItem.id,
  nev: firebaseItem.name || firebaseItem.nev, // Visszafel√© kompatibilit√°s
  ar: firebaseItem.price || firebaseItem.ar,   // Visszafel√© kompatibilit√°s
  mennyiseg: firebaseItem.quantity || firebaseItem.mennyiseg,
  kategoria: firebaseItem.category || firebaseItem.kategoria,
  leiras: firebaseItem.description || firebaseItem.leiras
});

// Rendel√©s konvert√°l√°sa Firebase form√°tumra
export const toFirebaseOrder = (magyarOrder) => ({
  items: magyarOrder.items.map(toFirebaseItem),
  total: magyarOrder.total,
  status: 'new',
  timestamp: magyarOrder.timestamp,
  paymentMethod: magyarOrder.paymentMethod
});

// Rendel√©s konvert√°l√°sa UI form√°tumra
export const toUIOrder = (firebaseOrder) => ({
  items: firebaseOrder.items.map(toUIItem),
  total: firebaseOrder.total,
  status: firebaseOrder.status,
  timestamp: firebaseOrder.timestamp,
  paymentMethod: firebaseOrder.paymentMethod
});

// St√°tusz ford√≠t√°sok
export const statusTranslations = {
  new: '√öj',
  processing: 'Feldolgoz√°s alatt',
  completed: 'Teljes√≠tve',
  cancelled: 'T√∂r√∂lve'
};

// Kateg√≥ria ford√≠t√°sok
export const categoryTranslations = {
  langos: 'L√°ngos',
  szendvics: 'Szendvicsek',
  foetel: 'F≈ë√©telek',
  desszert: 'Desszertek',
  ital: 'Italok'
}; 


================================================================================
File: src/utils/saveOrder.js
================================================================================

import { collection, addDoc, serverTimestamp } from 'firebase/firestore';
import { db } from '../firebase';

export const saveOrder = async (items, total) => {
  try {
    const orderData = {
      items: items.map(item => ({
        id: item.id,
        nev: item.nev,
        ar: item.ar,
        mennyiseg: item.mennyiseg
      })),
      total,
      status: 'new',
      createdAt: serverTimestamp()
    };

    const docRef = await addDoc(collection(db, 'orders'), orderData);
    return { success: true, orderId: docRef.id };
  } catch (error) {
    console.error('Hiba a rendel√©s ment√©se k√∂zben:', error);
    return { success: false, error: error.message };
  }
}; 


================================================================================
File: src/App.css
================================================================================

/* Alap st√≠lusok */
body {
  @apply bg-csarda-feher-tort;
}

/* Scrollbar testreszab√°sa */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-csarda-feher-alap;
}

::-webkit-scrollbar-thumb {
  @apply bg-csarda-barna-vilagos rounded-full;
}

/* Anim√°ci√≥k */
.fade-in {
  animation: fadeIn 0.3s ease-in;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
} 


================================================================================
File: src/App.js
================================================================================

import React, { useState, useEffect, useCallback } from 'react';
import './App.css';
import CategoryBar from './components/CategoryBar';
import ProductGrid from './components/ProductGrid';
import CartSidebar from './components/CartSidebar';
import PinScreen from './components/PinScreen';
import { menu } from './data/menu';
import { saveOrder } from './services/firebaseService';
import { toUIItem } from './utils/dataConverters';
import { Toaster } from 'react-hot-toast';
import { useFullscreen } from './hooks/useFullscreen';
import FullscreenExitButton from './components/FullscreenExitButton';
import { useAuth } from './hooks/useAuth';

// Google Fonts bet√∂lt√©se
const fontLink = document.createElement('link');
fontLink.href = 'https://fonts.googleapis.com/css2?family=Bree+Serif:wght@400;700&family=Lora:wght@400;500;600;700&display=swap';
fontLink.rel = 'stylesheet';
document.head.appendChild(fontLink);

const INACTIVITY_TIMEOUT = 10 * 60 * 1000; // 10 perc milliszekundumban

function App() {
  const { isAuthenticated, login } = useAuth();
  const { isFullscreen, enterFullscreen, retryFullscreen } = useFullscreen();
  const [selectedCategory, setSelectedCategory] = useState('langos');
  const [cartItems, setCartItems] = useState([]);
  const [isLocked, setIsLocked] = useState(true);
  const [inactivityTimer, setInactivityTimer] = useState(null);
  const [toast, setToast] = useState(null);
  const [isLoading, setIsLoading] = useState(false);

  // Toast megjelen√≠t√©se
  const showToast = (message, type = 'success') => {
    setToast({ message, type });
    setTimeout(() => setToast(null), 3000);
  };

  // Inaktivit√°s figyel≈ë vissza√°ll√≠t√°sa
  const resetInactivityTimer = useCallback(() => {
    if (inactivityTimer) clearTimeout(inactivityTimer);
    
    const newTimer = setTimeout(() => {
      setCartItems([]); // Kos√°r √ºr√≠t√©se
      setIsLocked(true); // PIN k√©perny≈ë megjelen√≠t√©se
    }, INACTIVITY_TIMEOUT);
    
    setInactivityTimer(newTimer);
  }, [inactivityTimer]);

  // Esem√©nyfigyel≈ëk be√°ll√≠t√°sa
  useEffect(() => {
    const events = ['click', 'touchstart', 'keydown'];
    
    const handleUserActivity = () => {
      resetInactivityTimer();
    };
    
    events.forEach(event => {
      window.addEventListener(event, handleUserActivity);
    });

    // Kezdeti id≈ëz√≠t≈ë be√°ll√≠t√°sa
    resetInactivityTimer();

    // Cleanup
    return () => {
      if (inactivityTimer) clearTimeout(inactivityTimer);
      events.forEach(event => {
        window.removeEventListener(event, handleUserActivity);
      });
    };
  }, [resetInactivityTimer]);

  // Mindig pr√≥b√°ljuk meg a teljes k√©perny≈ët, ha nincs
  useEffect(() => {
    if (!isFullscreen) {
      const timer = setTimeout(() => {
        retryFullscreen();
      }, 2000);
      return () => clearTimeout(timer);
    }
  }, [isFullscreen, retryFullscreen]);

  // PIN k√≥d ellen≈ërz√©se √©s bel√©p√©s
  const handlePinSubmit = async (pin) => {
    if (pin === '351351') {
      login(); // Bejelentkez√©s
      setIsLocked(false); // Felold√°s
      await enterFullscreen(); // Teljes k√©perny≈ë √∫jra
    }
  };

  // Sz≈±rt term√©kek a kiv√°lasztott kateg√≥ria alapj√°n
  const filteredProducts = menu.filter(
    (item) => item.kategoria === selectedCategory
  ).map(toUIItem);

  // Kos√°rba helyez√©s kezel√©se
  const handleAddToCart = (item) => {
    setCartItems((prevItems) => {
      const existingItem = prevItems.find((cartItem) => cartItem.id === item.id);
      if (existingItem) {
        return prevItems.map((cartItem) =>
          cartItem.id === item.id
            ? { ...cartItem, mennyiseg: cartItem.mennyiseg + 1 }
            : cartItem
        );
      }
      return [...prevItems, { ...item, mennyiseg: 1 }];
    });
    showToast(`${item.nev} a kos√°rba ker√ºlt!`);
  };

  // Mennyis√©g m√≥dos√≠t√°s kezel√©se
  const handleQuantityChange = (id, newQuantity) => {
    if (newQuantity < 1) {
      handleRemoveFromCart(id);
      return;
    }
    setCartItems((prevItems) =>
      prevItems.map((item) =>
        item.id === id ? { ...item, mennyiseg: newQuantity } : item
      )
    );
  };

  // T√©tel t√∂rl√©se a kos√°rb√≥l
  const handleRemoveFromCart = (id) => {
    const itemToRemove = cartItems.find(item => item.id === id);
    if (itemToRemove) {
      setCartItems((prevItems) => prevItems.filter((item) => item.id !== id));
      showToast(`${itemToRemove.nev} t√∂r√∂lve a kos√°rb√≥l!`, 'warning');
    }
  };

  // Kos√°r √ºr√≠t√©se
  const handleClearCart = () => {
    setCartItems([]);
    showToast('A kos√°r ki√ºr√≠tve!', 'warning');
  };

  // Fizet√©s kezel√©se
  const handlePayment = async () => {
    if (cartItems.length === 0) {
      showToast('A kos√°r √ºres!', 'error');
      return;
    }

    setIsLoading(true);
    try {
      const total = cartItems.reduce((sum, item) => sum + item.ar * item.mennyiseg, 0);
      const orderData = {
        items: cartItems,
        total: total,
        paymentMethod: 'cash'
      };

      const result = await saveOrder(orderData);
      
      if (result.success) {
        setCartItems([]);
        showToast('Rendel√©s sikeresen mentve!', 'success');
      } else {
        throw new Error(result.error || 'Hiba t√∂rt√©nt a ment√©s sor√°n');
      }
    } catch (error) {
      console.error('Hiba a rendel√©s ment√©se sor√°n:', error);
      showToast(error.message || 'Hiba t√∂rt√©nt a rendel√©s ment√©se sor√°n!', 'error');
    } finally {
      setIsLoading(false);
    }
  };

  return (
    <div className="
      h-screen
      flex
      flex-col
      font-lora
      bg-csarda-feher-alap
      overflow-hidden
    ">
      {/* Fejl√©c */}
      <header className="
        bg-csarda-barna-sotet
        text-csarda-feher-alap
        py-4
        border-b-3
        border-csarda-piros-mely
        relative
      ">
        <div className="
          absolute
          inset-0
          bg-csarda-pattern
          opacity-10
          mix-blend-overlay
        "></div>
        <h1 className="
          text-4xl
          text-center
          font-bree
          tracking-wide
          relative
          flex
          items-center
          justify-center
          gap-3
        ">
          <span className="text-csarda-sarga-szalma">Hagyma</span>
          <span className="text-csarda-piros-vilagos">iPOS</span>
        </h1>
      </header>

      {/* F≈ë tartalom */}
      <main className="flex flex-1 overflow-hidden">
        {/* Bal oldali panel: Kateg√≥ri√°k √©s term√©kek */}
        <div className="
          flex-1
          flex
          flex-col
          h-full
          max-w-[calc(100%-24rem)]
          bg-csarda-feher-tort
          relative
        ">
          {/* Kateg√≥ria s√°v */}
          <div className="
            h-16
            border-b-2
            border-csarda-barna-vilagos
            bg-csarda-feher-alap
          ">
            <CategoryBar
              selectedCategory={selectedCategory}
              onSelect={setSelectedCategory}
            />
          </div>
          
          {/* Term√©kek r√°cs */}
          <div className="
            flex-1
            overflow-hidden
            p-4
            bg-csarda-feher-tort
          ">
            <ProductGrid
              products={filteredProducts}
              onAddToCart={handleAddToCart}
            />
          </div>

          {/* Toast √ºzenetek az als√≥ s√°vban */}
          {toast && (
            <div className="
              absolute
              bottom-0
              left-0
              right-0
              flex
              justify-center
              p-4
              pointer-events-none
            ">
              <div className={`
                px-6
                py-3
                rounded-xl
                font-bree
                text-xl
                shadow-lg
                border-2
                animate-fade-in-up
                ${
                  toast.type === 'success' 
                    ? 'bg-csarda-zold-palack text-white border-csarda-zold-kakukkfu'
                    : toast.type === 'error'
                    ? 'bg-csarda-piros-mely text-white border-csarda-piros-vilagos'
                    : 'bg-csarda-barna-sotet text-white border-csarda-barna-vilagos'
                }
              `}>
                {toast.message}
              </div>
            </div>
          )}
        </div>
        
        {/* Jobb oldali kos√°r */}
        <div className="
          w-96
          bg-fa-pattern
          bg-csarda-barna-vilagos
          bg-opacity-10
          border-l-2
          border-csarda-barna-vilagos
          flex
          flex-col
        ">
          <CartSidebar
            items={cartItems}
            onQuantityChange={handleQuantityChange}
            onRemove={handleRemoveFromCart}
            onClear={handleClearCart}
            onPayment={handlePayment}
            isLoading={isLoading}
          />
        </div>
      </main>
      {isLocked ? (
        <>
          <PinScreen onSubmit={handlePinSubmit} />
          <FullscreenExitButton onExit={retryFullscreen} />
        </>
      ) : (
        <>
          <FullscreenExitButton onExit={retryFullscreen} />
        </>
      )}
      <Toaster />
    </div>
  );
}

export default App; 


================================================================================
File: src/App.tsx
================================================================================

import React, { useEffect } from 'react';
import { Toaster } from 'react-hot-toast';
import { useFullscreen } from './hooks/useFullscreen';
import FullscreenExitButton from './components/FullscreenExitButton';
import { useAuth } from './hooks/useAuth'; // Felt√©telezve, hogy van ilyen hook

const App: React.FC = () => {
  const { isAuthenticated } = useAuth();
  const { isFullscreen, enterFullscreen, retryFullscreen } = useFullscreen();

  // PIN megad√°sa ut√°n vagy indul√°skor teljes k√©perny≈ë
  useEffect(() => {
    // Ha m√°r be van jelentkezve vagy helyes PIN ut√°n
    if (isAuthenticated) {
      enterFullscreen();
    }
  }, [isAuthenticated, enterFullscreen]);

  // Ha kil√©p teljes k√©perny≈ëb≈ël, pr√≥b√°ljuk √∫jra 2 m√°sodperc ut√°n
  useEffect(() => {
    if (!isFullscreen && isAuthenticated) {
      const timer = setTimeout(() => {
        retryFullscreen();
      }, 2000);
      return () => clearTimeout(timer);
    }
  }, [isFullscreen, isAuthenticated, retryFullscreen]);

  return (
    <div className="app-container">
      {/* Megl√©v≈ë komponensek */}
      {/* Teljes k√©perny≈ë kil√©p≈ë gomb */}
      <FullscreenExitButton onExit={retryFullscreen} />
      
      {/* Toast √ºzenetek megjelen√≠t√©se */}
      <Toaster />
    </div>
  );
};

export default App; 


================================================================================
File: src/firebase.js
================================================================================

import { initializeApp } from 'firebase/app';
import { getFirestore } from 'firebase/firestore';

const firebaseConfig = {
  apiKey: "AIzaSyDHV6P5bJt_4OvOgwDuDKQRBBguEmgHpNY",
  authDomain: "hagyma-ipos.firebaseapp.com",
  projectId: "hagyma-ipos",
  storageBucket: "hagyma-ipos.appspot.com",
  messagingSenderId: "123456789012",
  appId: "1:123456789012:web:abcdef0123456789"
};

// Firebase inicializ√°l√°sa
const app = initializeApp(firebaseConfig);

// Firestore p√©ld√°ny l√©trehoz√°sa
export const db = getFirestore(app); 


================================================================================
File: src/index.css
================================================================================

@import url('https://fonts.googleapis.com/css2?family=Bree+Serif:wght@400;700&family=Lora:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities; 


================================================================================
File: src/index.js
================================================================================

import React from 'react';
import ReactDOM from 'react-dom/client';
import './index.css';
import App from './App';

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
); 


================================================================================
File: tailwind.config.js
================================================================================

/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
    "./src/**/*.{js,jsx,ts,tsx}",
  ],
  theme: {
    extend: {
      colors: {
        'csarda': {
          'barna': {
            'sotet': '#6B3E26',    // S√∂t√©t di√≥
            'vilagos': '#B99A78',  // Fak√≥ t√∂lgy
            'kozep': '#8C6046'     // √âgetett barna
          },
          'feher': {
            'alap': '#FFF8F0',     // Vajfeh√©r
            'tort': '#F7F3EA'      // T√∂rtfeh√©r
          },
          'piros': {
            'mely': '#A0241C',     // M√©ly magyar piros
            'vilagos': '#D0403A'   // Vil√°gosabb piros
          },
          'zold': {
            'palack': '#50714B',   // Palackz√∂ld
            'kakukkfu': '#7E9872'  // Kakukkf≈± z√∂ld
          },
          'sarga': {
            'szalma': '#FFD75F',   // Szalmas√°rga
            'vilagos': '#FFEEB2'   // Vil√°gos s√°rga
          }
        },
        'csarda-barna-sotet': '#2C1810',
        'csarda-barna-kozep': '#5C392C',
        'csarda-barna-vilagos': '#8C574A',
        'csarda-piros-mely': '#8B0000',
        'csarda-piros-vilagos': '#FF6B6B',
        'csarda-feher-alap': '#FFFFFF',
        'csarda-feher-tort': '#F5F5F5',
        'csarda-zold-palack': '#2E7D32',
        'csarda-zold-kakukkfu': '#4CAF50',
        'csarda-sarga-szalma': '#FFD700'
      },
      fontFamily: {
        'bree': ['Bree Serif', 'serif'],
        'lora': ['Lora', 'serif'],
        'nunito': ['Nunito Sans', 'sans-serif']
      },
      borderWidth: {
        '3': '3px'
      },
      backgroundImage: {
        'csarda-pattern': "url('/src/assets/csarda-pattern.svg')",
        'fa-pattern': "url('/src/assets/fa-pattern.svg')"
      },
      keyframes: {
        fadeInUp: {
          '0%': {
            opacity: '0',
            transform: 'translateY(20px)'
          },
          '100%': {
            opacity: '1',
            transform: 'translateY(0)'
          }
        }
      },
      animation: {
        'fade-in-up': 'fadeInUp 0.5s ease-out forwards'
      }
    },
  },
  plugins: [],
} 

